<!DOCTYPE html>
<html>
<head>
    <title>リダイレクト</title>
    <script>
    function redirect() {
        var urlParams = new URLSearchParams(window.location.search);
        var email = urlParams.get('email');
        var verificationCode = urlParams.get('verificationCode');
        var userType = urlParams.get('userType');
        
        if (/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            // Androidデバイスの場合
            location.href = "tamotsu://verify?email=" + encodeURIComponent(email) + "&verificationCode=" + encodeURIComponent(verificationCode) + "&userType=" + encodeURIComponent(userType);
        } else if(/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            // iOSデバイスの場合
            location.href = "tamotsu://verify?email=" + encodeURIComponent(email) + "&verificationCode=" + encodeURIComponent(verificationCode) + "&userType=" + encodeURIComponent(userType);
        } else {
            // PCの場合
            location.href = "https://tamotsu-app.com";
        }
    }

    // ページ読み込み時にリダイレクト関数を実行
    window.onload = redirect;
    </script>
</head>
<body>
    <p>リダイレクト中...</p>
    <p>少々お待ちください</p>
</body>
</html>
