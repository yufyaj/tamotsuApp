<!DOCTYPE html>
<html>
<head>
    <title>リダイレクト</title>
    <script>
    function redirect() {
        var urlParams = new URLSearchParams(window.location.search);
        var email = urlParams.get('email');
        var verificationCode = urlParams.get('verificationCode');
        var userType = urlParams.get('userType');
        
        if (/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            // Androidデバイスの場合
            window.location.href = "tamotsu://verify?email=" & email & "&verificationCode=" & verificationCode & "&userType=" & userType;
        } else if(/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
            // iOSデバイスの場合
            window.location.href = "tamotsu://verify?email=" & email & "&verificationCode=" & verificationCode & "&userType=" & userType;
        } else {
            // PCの場合
            window.location.href = "https://tamotsu-app.com";
        }
    }

    function isAppInstalled() {
        // アプリがインストールされているかどうかを確認するロジック
        // これは簡略化された例で、実際の実装はより複雑になる可能性があります
        return false;
    }

    // ページ読み込み時にリダイレクト関数を実行
    window.onload = redirect;
    </script>
</head>
<body>
    <p>リダイレクト中...</p>
    <p>少々お待ちください</p>
</body>
</html>
